<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登录注册</title>
    <link rel="stylesheet" href="register.css">
</head>

<body>
    <div class="sign-container">
        <!-- 上面logo -->
        <div class="login-logo">
            <a href="index.html">
                <img src="images/logo.png" alt="">夏之梦音
            </a>
        </div>
        <!-- 登录盒子 -->
        <div class="login-box">
            <h1 class="login-title">LOGIN IN</h1>
            <ul class="login-con">
                <li>
                    <input type="text" placeholder="input your phone number" maxlength="11" id='phone'>
                    <em>&nbsp;手机号码格式不正确</em>
                </li>
                <li>
                    <input type="password" placeholder="input your password" id='psw'>
                    <span class="eye"></span>
                    <em>&nbsp;密码错误</em>
                </li>
                <li class="login-btn">
                    <input type="submit" id="" value="登录">
                </li>
                <li class="login-agree">
                    <input type="checkbox" id="">下次自动登录
                </li>
                <li class="login-change">
                    短信登陆
                </li>
            </ul>
        </div>
    </div>
    <script>
        var eye = document.querySelector('.eye');
        var phone = document.querySelector('#phone');
        var psw = document.querySelector('#psw');
        var btn = document.querySelector('.login-btn')
            // 眼睛的闭合
        flag = 0;
        eye.onclick = function() {
            if (flag == 0) {
                psw.type = 'text';
                eye.innerHTML = '';
                flag = 1;
            } else {
                psw.type = 'password';
                eye.innerHTML = ''
                flag = 0;
            }
        }
        btn.onclick = function() {
            let http = new XMLHttpRequest()
                // http.withCredentials = true 部分请求或许需要该配置，具体请先查看文档
            http.onreadystatechange = function() {
                //获取服务器端响应的数据
                if (http.readyState === 4 && http.status === 200) {
                    console.log(JSON.parse(http.responseText)); //JSON.parse()将json字符串转换为json对象

                }
            }
            http.open("GET", `http://musicapi.leanapp.cn/top/list?idx=0`, true); //请求参数应该放在地址问号后面（多个参数以&连接）
            // 发送请求
            http.send();
            console.log(888);

        }
        console.log(1);
    </script>
</body>

</html>